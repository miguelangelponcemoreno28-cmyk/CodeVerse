{% extends "base.html" %}

{% block title %}Calculadora IMC - CodeVerse{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="text-center mb-8">
        <h1 class="text-4xl font-bold mb-2">Calculadora <span class="text-blue-400">IMC</span></h1>
        <p class="text-lg text-slate-400">Calcula tu Índice de Masa Corporal.</p>
    </div>

    <div class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-slate-700/50 rounded-2xl p-8 shadow-xl">
        <div class="space-y-4">
            <div>
                <label class="block text-slate-300 text-sm font-medium mb-2">Peso (kg)</label>
                <input type="number" id="peso" placeholder="70" class="w-full bg-slate-900/50 border border-slate-600 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:border-blue-500 outline-none transition">
            </div>
            <div>
                <label class="block text-slate-300 text-sm font-medium mb-2">Altura (cm)</label>
                <input type="number" id="altura" placeholder="175" class="w-full bg-slate-900/50 border border-slate-600 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:border-blue-500 outline-none transition">
            </div>
            <button onclick="calcularIMC()" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-bold py-2 rounded-lg transition-all">
                Calcular
            </button>
        </div>
        
        <div id="resultIMC" class="mt-4 p-4 bg-slate-900/50 border border-slate-600 rounded-lg hidden">
            <p class="text-slate-300 text-sm">Tu IMC:</p>
            <p id="imcValor" class="text-3xl font-bold text-blue-400 mt-2">--</p>
            <p id="imcCategoria" class="text-slate-400 text-sm mt-2">--</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Código JavaScript de la calculadora IMC
    function calcularIMC() {
        const peso = parseFloat(document.getElementById('peso').value);
        const altura = parseFloat(document.getElementById('altura').value) / 100;
        
        if (!peso || !altura || peso <= 0 || altura <= 0) {
            alert('Por favor ingresa valores válidos');
            return;
        }
        
        const imc = (peso / (altura * altura)).toFixed(1);
        let categoria = '';
        let color = '';
        
        if (imc < 18.5) {
            categoria = 'Bajo peso';
            color = 'text-blue-400';
        } else if (imc < 25) {
            categoria = 'Peso normal';
            color = 'text-green-400';
        } else if (imc < 30) {
            categoria = 'Sobrepeso';
            color = 'text-yellow-400';
        } else {
            categoria = 'Obesidad';
            color = 'text-red-400';
        }
        
        document.getElementById('imcValor').textContent = imc;
        document.getElementById('imcValor').className = `text-3xl font-bold mt-2 ${color}`;
        document.getElementById('imcCategoria').textContent = categoria;
        document.getElementById('resultIMC').classList.remove('hidden');
    }
</script>
{% endblock %}